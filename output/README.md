# Output Files Documentation

This directory contains all results, figures, and tables generated by the coral restoration monitoring value-of-information model.

## Directory Structure

```
output/
├── figures/
│   ├── main/           # Publication-ready main figures
│   ├── supplement/     # Supplementary figures
│   └── diagnostic/     # Model diagnostic plots
├── tables/
│   ├── main/           # Main results tables
│   └── supplement/     # Supplementary tables
└── simulation/
    ├── raw/            # Raw simulation .rds files
    └── processed/      # Processed summary .csv files
```

## Figure Descriptions

### Main Figures (figures/main/)

#### Figure 1: Value of Information by Monitoring Precision
**Filename:** `fig1_voi_by_monitoring_precision.pdf` / `.png`
**Generated by:** `code/6_generate_figures.R` (when created)
**Description:** Shows how NPV changes with monitoring precision (CV from 0.1 to 0.5). Demonstrates the value of investing in high-precision monitoring vs. low-precision monitoring.

**Key elements:**
- X-axis: Monitoring CV (coefficient of variation)
- Y-axis: Net Present Value ($)
- Lines: High precision, Low precision, Adaptive monitoring
- Interpretation: Higher VOI when monitoring significantly improves NPV

#### Figure 2: Coral Restoration Trajectories
**Filename:** `fig2_restoration_trajectories_by_starting_cover.pdf` / `.png`
**Generated by:** `code/6_generate_figures.R`
**Description:** Time series of coral cover under different starting conditions and monitoring strategies.

**Key elements:**
- X-axis: Time (years)
- Y-axis: Coral cover (%)
- Panels: Different starting coral cover levels (30%, 50%, 75%, 90%)
- Lines: Different monitoring strategies
- Shaded regions: Allee threshold, Optimal level (Cmsy)

#### Figure 3: NPV Heatmap - Allee Threshold vs Monitoring Precision
**Filename:** `fig3_npv_heatmap_allee_vs_cv.pdf` / `.png`
**Generated by:** `code/7_run_simulations.R`
**Description:** Two-dimensional heatmap showing how NPV varies across Allee thresholds and monitoring precision levels.

**Key elements:**
- X-axis: Allee threshold (% coral cover)
- Y-axis: Monitoring CV
- Color: NPV ($)
- Contours: Lines of equal VOI
- Interpretation: Identifies parameter combinations where monitoring is most valuable

### Supplementary Figures (figures/supplement/)

#### Figure S1: Model Validation - Operating Model Dynamics
**Filename:** `figS1_operating_model_validation.pdf`
**Generated by:** `code/4_coral_model_tests.R`
**Description:** Validation plots showing coral population dynamics match expected logistic growth with Allee effects.

#### Figure S2: Decision Error Tracking
**Filename:** `figS2_decision_errors_by_cv.pdf`
**Generated by:** `code/5_compare_old_vs_improved_models.R`
**Description:** Type I and Type II errors as a function of monitoring precision.

**Key elements:**
- Type I error: Should restore but didn't (dangerous!)
- Type II error: Restored unnecessarily (wasteful!)
- Cost of being wrong calculated explicitly

#### Figure S3: Budget Trade-off Analysis
**Filename:** `figS3_budget_tradeoff_monitoring_vs_restoration.pdf`
**Generated by:** `code/5_compare_old_vs_improved_models.R`
**Description:** Shows how monitoring costs reduce available restoration capacity under budget constraints.

### Diagnostic Figures (figures/diagnostic/)

#### Restoration Control Rule Comparison
**Filename:** `diagnostic_restoration_control_rule_comparison.pdf`
**Generated by:** `code/5_compare_old_vs_improved_models.R`
**Description:** Compares restoration decisions in original vs improved model across coral cover levels.

#### Monte Carlo Convergence
**Filename:** `diagnostic_monte_carlo_convergence.pdf`
**Generated by:** `code/7_run_simulations.R`
**Description:** Shows NPV estimates converge with increasing iteration count.

## Table Descriptions

### Main Tables (tables/main/)

#### Table 1: Model Parameters
**Filename:** `table1_model_parameters.csv`
**Columns:**
- `parameter`: Parameter name
- `symbol`: Mathematical symbol
- `value`: Numerical value
- `units`: Units of measurement
- `description`: Brief description
- `source`: Citation or justification

**Example rows:**
```csv
parameter,symbol,value,units,description,source
coral_growth_rate,r,0.217,per year,Intrinsic growth rate,Madin & Connolly 2006
carrying_capacity,K,233,%,Maximum coral cover,Empirical estimate
allee_threshold,A,20,%,Critical threshold for self-sustenance,Literature range
```

#### Table 2: VOI Summary Statistics
**Filename:** `table2_voi_summary_statistics.csv`
**Columns:**
- `monitoring_strategy`: High precision / Low precision / Adaptive
- `mean_npv`: Mean NPV across simulations ($)
- `sd_npv`: Standard deviation of NPV
- `median_npv`: Median NPV
- `collapse_prob`: Probability of falling below Allee threshold
- `monitoring_cost`: Average monitoring cost per year ($)
- `voi`: Value of information relative to low precision ($)
- `voi_net`: VOI after accounting for monitoring costs ($)

#### Table 3: Parameter Sensitivity Analysis
**Filename:** `table3_parameter_sensitivity.csv`
**Columns:**
- `parameter`: Parameter varied
- `baseline_value`: Original parameter value
- `test_value`: Tested parameter value
- `percent_change`: Percentage change from baseline
- `npv_baseline`: NPV at baseline
- `npv_test`: NPV at test value
- `elasticity`: Percentage change in NPV / percentage change in parameter

### Supplementary Tables (tables/supplement/)

#### Table S1: Complete Simulation Results
**Filename:** `tableS1_complete_simulation_results.csv`
**Description:** Full dataset from Monte Carlo simulations (may be very large)

#### Table S2: Model Comparison - Old vs Improved
**Filename:** `tableS2_model_comparison.csv`
**Description:** Detailed comparison of original and improved model outputs

## Simulation Data (simulation/)

### Raw Files (simulation/raw/)

Raw simulation outputs saved as R Data files (.rds) for reproducibility:

- `sim_monte_carlo_n1000_baseline.rds`: 1000-iteration baseline simulation
- `sim_parameter_sweep_allee.rds`: Allee threshold sensitivity
- `sim_parameter_sweep_cv.rds`: Monitoring precision sensitivity
- `sim_budget_scenarios.rds`: Budget constraint scenarios

**Loading in R:**
```r
results <- readRDS("output/simulation/raw/sim_monte_carlo_n1000_baseline.rds")
```

### Processed Files (simulation/processed/)

Processed summaries saved as CSV for easy viewing:

- `sim_monte_carlo_summary.csv`: Summary statistics from MC simulations
- `sim_parameter_sweep_summary.csv`: Parameter sensitivity summaries
- `sim_voi_by_starting_conditions.csv`: VOI across different initial states

## File Naming Conventions

All output files follow this pattern:
```
[type][number]_[description]_[details].[ext]

Where:
- type: fig, table, sim, diagnostic
- number: Sequential number for main outputs
- description: Short descriptive name (lowercase, underscores)
- details: Additional specifics if needed
- ext: pdf, png, csv, rds
```

**Examples:**
- `fig1_voi_by_monitoring_precision.pdf` ✓
- `table2_voi_summary_statistics.csv` ✓
- `figS3_budget_tradeoff_monitoring_vs_restoration.png` ✓

## Figure Specifications

All figures are saved in publication-ready format:

**PDF figures (for publication):**
- Resolution: Vector graphics (scalable)
- Size: 7" x 5" (single column) or 10" x 6" (double column)
- Fonts: 10pt minimum, Helvetica or Arial
- Colors: Colorblind-friendly palette

**PNG figures (for viewing):**
- Resolution: 300 DPI
- Size: Same as PDF but rasterized
- Use for presentations or quick viewing

## Generating Outputs

To regenerate all outputs:

```bash
# Run all analyses
Rscript code/4_coral_model_tests.R
Rscript code/5_compare_old_vs_improved_models.R
Rscript code/6_generate_figures.R          # When created
Rscript code/7_run_simulations.R           # When created

# Or use master script (when created)
./RUN_ALL_ANALYSES.sh
```

## Notes

- All outputs are created automatically by R scripts
- Do not manually edit files in this directory
- Outputs are NOT tracked in git (see .gitignore)
- To reproduce: run the analysis scripts from project root
- For questions about specific outputs, see the generating script

## Citation

When using figures or tables from this analysis, please cite:

```
[Citation information to be added]
```

## Last Updated

This README: 2025-10-26
Model version: 1.0
